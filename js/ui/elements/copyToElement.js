import UIElement from "../uiElement.js";
/**
 * Copies attributes to specified elements.
 *
 * The attribute "path" specifies the elements to match.
 *
 * The attribute "attributes" is a JSON map to define the attribute's name and value.
 */
class CopyToElement extends UIElement {
    attached() {
        let path = this.getAttribute("path") ?? "";
        let attributes;
        try {
            attributes = JSON.parse(this.getAttribute("attributes") ?? "{}");
        }
        catch (e) {
            console.error(e);
            return;
        }
        document.querySelectorAll(path).forEach(e => {
            Object.entries(attributes).forEach(([k, v]) => e.setAttribute(k, v.toString()));
        });
        this.remove();
    }
}
CopyToElement.register("copy-to");
export default CopyToElement;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29weVRvRWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91aS9lbGVtZW50cy9jb3B5VG9FbGVtZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sU0FBUyxNQUFNLGlCQUFpQixDQUFBO0FBRXZDOzs7Ozs7R0FNRztBQUNILE1BQU0sYUFBYyxTQUFRLFNBQVM7SUFDakIsUUFBUTtRQUMxQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUMxQyxJQUFJLFVBQXNELENBQUE7UUFFMUQsSUFBSTtZQUNILFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUE7U0FDaEU7UUFBQyxPQUFNLENBQUMsRUFBRTtZQUNWLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDaEIsT0FBTTtTQUNOO1FBRUQsUUFBUSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUMzQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FDakMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQzNDLENBQUE7UUFDRixDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQTtJQUNkLENBQUM7Q0FDRDtBQUVELGFBQWEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUE7QUFDakMsZUFBZSxhQUFhLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlFbGVtZW50IGZyb20gXCIuLi91aUVsZW1lbnQuanNcIlxuXG4vKipcbiAqIENvcGllcyBhdHRyaWJ1dGVzIHRvIHNwZWNpZmllZCBlbGVtZW50cy5cbiAqIFxuICogVGhlIGF0dHJpYnV0ZSBcInBhdGhcIiBzcGVjaWZpZXMgdGhlIGVsZW1lbnRzIHRvIG1hdGNoLlxuICogXG4gKiBUaGUgYXR0cmlidXRlIFwiYXR0cmlidXRlc1wiIGlzIGEgSlNPTiBtYXAgdG8gZGVmaW5lIHRoZSBhdHRyaWJ1dGUncyBuYW1lIGFuZCB2YWx1ZS5cbiAqL1xuY2xhc3MgQ29weVRvRWxlbWVudCBleHRlbmRzIFVJRWxlbWVudCB7XG5cdHByb3RlY3RlZCBvdmVycmlkZSBhdHRhY2hlZCgpOiB2b2lkIHtcblx0XHRsZXQgcGF0aCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwicGF0aFwiKSA/PyBcIlwiXG5cdFx0bGV0IGF0dHJpYnV0ZXM6IHtba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFufVxuXG5cdFx0dHJ5IHtcblx0XHRcdGF0dHJpYnV0ZXMgPSBKU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKFwiYXR0cmlidXRlc1wiKSA/PyBcInt9XCIpXG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGUpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhdGgpLmZvckVhY2goZSA9PiB7XG5cdFx0XHRPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5mb3JFYWNoKFxuXHRcdFx0XHQoW2ssIHZdKSA9PiBlLnNldEF0dHJpYnV0ZShrLCB2LnRvU3RyaW5nKCkpXG5cdFx0XHQpXG5cdFx0fSlcblxuXHRcdHRoaXMucmVtb3ZlKClcblx0fVxufVxuXG5Db3B5VG9FbGVtZW50LnJlZ2lzdGVyKFwiY29weS10b1wiKVxuZXhwb3J0IGRlZmF1bHQgQ29weVRvRWxlbWVudCJdfQ==